"use client";import{a as y}from"./chunk-U5LWHTWZ.js";import{d as f}from"./chunk-TEDR2MDT.js";var o=f(y()),h=(0,o.createContext)(null),l={didCatch:!1,error:null},u=class extends o.Component{constructor(r){super(r),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=l}static getDerivedStateFromError(r){return{didCatch:!0,error:r}}resetErrorBoundary(){let{error:r}=this.state;if(r!==null){for(var e,t,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];(e=(t=this.props).onReset)===null||e===void 0||e.call(t,{args:s,reason:"imperative-api"}),this.setState(l)}}componentDidCatch(r,e){var t,a;(t=(a=this.props).onError)===null||t===void 0||t.call(a,r,e)}componentDidUpdate(r,e){let{didCatch:t}=this.state,{resetKeys:a}=this.props;if(t&&e.error!==null&&m(r.resetKeys,a)){var s,i;(s=(i=this.props).onReset)===null||s===void 0||s.call(i,{next:a,prev:r.resetKeys,reason:"keys"}),this.setState(l)}}render(){let{children:r,fallbackRender:e,FallbackComponent:t,fallback:a}=this.props,{didCatch:s,error:i}=this.state,d=r;if(s){let c={error:i,resetErrorBoundary:this.resetErrorBoundary};if(typeof e=="function")d=e(c);else if(t)d=(0,o.createElement)(t,c);else if(a!==void 0)d=a;else throw console.error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop"),i}return(0,o.createElement)(h.Provider,{value:{didCatch:s,error:i,resetErrorBoundary:this.resetErrorBoundary}},d)}};function m(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==r.length||n.some((e,t)=>!Object.is(e,r[t]))}function E(n){if(n==null||typeof n.didCatch!="boolean"||typeof n.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found")}function p(){let n=(0,o.useContext)(h);E(n);let[r,e]=(0,o.useState)({error:null,hasError:!1}),t=(0,o.useMemo)(()=>({resetBoundary:()=>{n.resetErrorBoundary(),e({error:null,hasError:!1})},showBoundary:a=>e({error:a,hasError:!0})}),[n.resetErrorBoundary]);if(r.hasError)throw r.error;return t}function B(n,r){let e=(0,o.forwardRef)((a,s)=>(0,o.createElement)(u,r,(0,o.createElement)(n,{...a,ref:s}))),t=n.displayName||n.name||"Unknown";return e.displayName="withErrorBoundary(".concat(t,")"),e}export{u as ErrorBoundary,h as ErrorBoundaryContext,p as useErrorBoundary,B as withErrorBoundary};
//# sourceMappingURL=react-error-boundary.js.map
