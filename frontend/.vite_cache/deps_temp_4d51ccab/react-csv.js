import{a as L}from"./chunk-YU4OISQA.js";import{a as k}from"./chunk-AO52GS7M.js";import{a as h}from"./chunk-U5LWHTWZ.js";import{d as u}from"./chunk-TEDR2MDT.js";var w=u(h());var P=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),x=e=>Array.isArray(e)&&e.every(t=>typeof t=="object"&&!(t instanceof Array)),I=e=>Array.isArray(e)&&e.every(t=>Array.isArray(t)),j=e=>Array.from(e.map(t=>Object.keys(t)).reduce((t,r)=>new Set([...t,...r]),[])),D=(e,t)=>{t=t||j(e);let r=t,o=t;x(t)&&(r=t.map(a=>a.label),o=t.map(a=>a.key));let s=e.map(a=>o.map(i=>S(i,a)));return[r,...s]},S=(e,t)=>{let r=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(o,s,a,i){let c=o[s];if(c==null)i.splice(1);else return c},t);return r===void 0?e in t?t[e]:"":r},T=e=>typeof e>"u"||e===null?"":e,F=(e,t=",",r='"')=>e.filter(o=>o).map(o=>o.map(s=>T(s)).map(s=>`${r}${s}${r}`).join(t)).join(`
`),$=(e,t,r,o)=>F(t?[t,...e]:e,r,o),B=(e,t,r,o)=>F(D(e,t),r,o),V=(e,t,r,o)=>t?`${t.join(r)}
${e}`:e.replace(/"/g,'""'),g=(e,t,r,o)=>{if(x(e))return B(e,t,r,o);if(I(e))return $(e,t,r,o);if(typeof e=="string")return V(e,t,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},f=(e,t,r,o,s)=>{let a=g(e,r,o,s),i=P()?"application/csv":"text/csv",c=new Blob([t?"\uFEFF":"",a],{type:i}),p=`data:${i};charset=utf-8,${t?"\uFEFF":""}${a}`,l=window.URL||window.webkitURL;return typeof l.createObjectURL>"u"?p:l.createObjectURL(c)};var q=u(h()),n=u(L()),d={data:(0,n.oneOfType)([n.string,n.array,n.func]).isRequired,headers:n.array,target:n.string,separator:n.string,filename:n.string,uFEFF:n.bool,onClick:n.func,asyncOnClick:n.bool,enclosingCharacter:n.string},m={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'};var N={target:"_blank"},b=class extends w.default.Component{static defaultProps=Object.assign(m,N);static propTypes=d;constructor(t){super(t),this.state={}}buildURI(){return f(...arguments)}componentDidMount(){let{data:t,headers:r,separator:o,enclosingCharacter:s,uFEFF:a,target:i,specs:c,replace:p}=this.props;this.state.page=window.open(this.buildURI(t,a,r,o,s),i,c,p)}getWindow(){return this.state.page}render(){return null}},R=b;var v=u(h());var A=u(k()),C=class extends v.default.Component{static defaultProps=m;static propTypes=d;constructor(t){super(t),this.buildURI=this.buildURI.bind(this)}buildURI(){return f(...arguments)}handleLegacy(t,r=!1){if(window.navigator.msSaveOrOpenBlob){t.preventDefault();let{data:o,headers:s,separator:a,filename:i,enclosingCharacter:c,uFEFF:p}=this.props,l=r&&typeof o=="function"?o():o,y=new Blob([p?"\uFEFF":"",g(l,s,a,c)]);return window.navigator.msSaveBlob(y,i),!1}}handleAsyncClick(t){let r=o=>{if(o===!1){t.preventDefault();return}this.handleLegacy(t,!0)};this.props.onClick(t,r)}handleSyncClick(t){if(this.props.onClick(t)===!1){t.preventDefault();return}this.handleLegacy(t)}handleClick(){return t=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(t):this.handleSyncClick(t);this.handleLegacy(t)}}render(){let{data:t,headers:r,separator:o,filename:s,uFEFF:a,children:i,onClick:c,asyncOnClick:p,enclosingCharacter:l,...y}=this.props,E=typeof window>"u"?"":this.buildURI(t,a,r,o,l);return(0,A.jsx)("a",{download:s,...y,ref:O=>this.link=O,target:"_self",href:E,onClick:this.handleClick(),children:i})}},U=C;var tt=R,et=U;export{tt as CSVDownload,et as CSVLink};
//# sourceMappingURL=react-csv.js.map
